<Directory /path/to/Artists_on_Twitter_Finder/public>										# MODIFIER ICI
	Options Indexes FollowSymLinks MultiViews
	DirectoryIndex index
	AddLanguage en .fr.html
	AddLanguage fr .fr.html
	LanguagePriority en fr
	ForceLanguagePriority Fallback

	Require all granted
	AllowOverride All
</Directory>

<VirtualHost *:80>
	ServerName sub.domain.tld																# MODIFIER ICI
	DocumentRoot /path/to/Artists_on_Twitter_Finder/public									# MODIFIER ICI

	ErrorLog ${APACHE_LOG_DIR}/sub.domain.tld_error.log										# MODIFIER ICI
	CustomLog ${APACHE_LOG_DIR}/sub.domain.tld_access.log combined							# MODIFIER ICI

	Header always set Server "Artists on Twitter Finder"
	Header always set Strict-Transport-Security "max-age=63072000; preload"

	<LocationMatch "/api/">
		ProxyAddHeaders On
		ProxyPass http://localhost:3301/
		ProxyPassReverse http://localhost:3301/
		Header set Access-Control-Allow-Origin "*"											# MODIFIER ICI
	</LocationMatch>

	<IfModule mod_ssl.c>
		RewriteEngine On
		RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]
	</IfModule>
</VirtualHost>

<IfModule mod_ssl.c>
	<VirtualHost *:443>
		ServerName sub.domain.tld															# MODIFIER ICI
		DocumentRoot /path/to/Artists_on_Twitter_Finder/public								# MODIFIER ICI

		ErrorLog ${APACHE_LOG_DIR}/sub.domain.tld_error.log									# MODIFIER ICI
		CustomLog ${APACHE_LOG_DIR}/sub.domain.tld_access.log combined						# MODIFIER ICI

		Header always set Server "Artists on Twitter Finder"
		Header always set Strict-Transport-Security "max-age=63072000; preload"

		SSLEngine On
		SSLProtocol -all +TLSv1.2
		SSLHonorCipherOrder On
		SSLCipherSuite EECDH+AESGCM:AES256+EECDH:AES128+EECDH
		SSLCompression Off

		SSLCertificateFile /etc/letsencrypt/live/sub.domain.tld/fullchain.pem				# MODIFIER ICI
		SSLCertificateKeyFile /etc/letsencrypt/live/sub.domain.tld/privkey.pem				# MODIFIER ICI

		<LocationMatch "/api/">
			ProxyAddHeaders On
			ProxyPass http://localhost:3301/
			ProxyPassReverse http://localhost:3301/
			Header set Access-Control-Allow-Origin "*"										# MODIFIER ICI
		</LocationMatch>
	</VirtualHost>
</IfModule>